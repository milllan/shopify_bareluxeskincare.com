!function(){"use strict";if(!customElements.get("pickup-availability")){class e extends HTMLElement{constructor(){super(),this.hasAttribute("available")&&(this.errorHtml=this.querySelector("template").content.firstElementChild.cloneNode(!0),this.onClickRefreshList=this.onClickRefreshList.bind(this),this.fetchAvailability(this.dataset.variantId))}fetchAvailability(e){let t=this.dataset.baseUrl;t.endsWith("/")||(t+="/");fetch(`${t}variants/${e}/?section_id=pickup-availability`).then((e=>e.text())).then((e=>{const t=(new DOMParser).parseFromString(e,"text/html").querySelector(".shopify-section");this.renderPreview(t)})).catch((e=>{const t=this.querySelector("button");t&&t.removeEventListener("click",this.onClickRefreshList),this.renderError()}))}onClickRefreshList(e){this.fetchAvailability(this.dataset.variantId)}renderError(){this.innerHTML="",this.appendChild(this.errorHtml),this.querySelector("button").addEventListener("click",this.onClickRefreshList)}renderPreview(e){const t=document.querySelector("#Drawer-Pickup-Availability");if(t&&t.remove(),!e.querySelector("pickup-availability-preview"))return this.innerHTML="",void this.removeAttribute("available");this.innerHTML=e.querySelector("pickup-availability-preview").outerHTML,this.setAttribute("available",""),document.body.appendChild(e.querySelector("#Drawer-Pickup-Availability"));const i=this.querySelector("button");i&&i.addEventListener("click",(e=>{document.querySelector("#Drawer-Pickup-Availability").openDrawer()}))}}customElements.define("pickup-availability",e)}if(!customElements.get("pickup-availability-drawer")){class e extends HTMLElement{constructor(){super(),this.drawerWapper=this.querySelector(".sf-drawer__wrapper"),this.drawerContent=this.querySelector(".sf-drawer__content"),this.drawerClose=this.querySelector(".sf-drawer__close"),this.drawerClose.addEventListener("click",(e=>{e.preventDefault(),this.closeDrawer()})),document.body.addEventListener("click",(e=>{e.target.classList.contains("sf-drawer__wrapper")&&this.closeDrawer()}))}openDrawer(){window.innerWidth<770&&(document.documentElement.classList.add("prevent-scroll"),this.drawerWapper.classList.add("mobile")),this.drawerWapper.classList.remove("hidden"),requestAnimationFrame((()=>{this.drawerWapper.style.setProperty("--tw-bg-opacity","0.5"),this.drawerContent.classList.remove("translate-x-full")}))}closeDrawer(){var e,t,i;null===(e=this.drawerWapper)||void 0===e||null===(t=e.style)||void 0===t||t.setProperty("--tw-bg-opacity","0"),null===(i=this.drawerContent)||void 0===i||i.classList.add("translate-x-full"),setTimeout((()=>{var e,t,i,r;null===(e=this.drawerWapper)||void 0===e||null===(t=e.classList)||void 0===t||t.add("hidden"),null===(i=this.drawerWapper)||void 0===i||null===(r=i.classList)||void 0===r||r.remove("mobile"),document.documentElement.classList.remove("prevent-scroll")}),300)}}customElements.define("pickup-availability-drawer",e)}}();