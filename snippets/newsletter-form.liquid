
{%- assign formId = 'ContactSubscribe' | append: custom_id -%}
<div class="newsletter__form-input w-full">
    {% form 'customer', id: formId %}
        {%- capture success_message -%}
            {{ 'general.newsletter_form.confirmation' | t }}
        {%- endcapture -%}
        {% render 'form__error', form: form %}
        {% render 'form__success', form: form, success_message: success_message %}
        <input type="hidden" name="contact[tags]" value="newsletter">
        {% if form_design == '1' %}
            <div class="flex">
                {%- capture placeholder_class -%}placeholder-gray-500 placeholder-opacity-75{%- endcapture -%}
                <input type="email"
                       name="contact[email]"
                       id="{{ formId }}-email"
                       value="{% if customer.email != blank %}{{ customer.email }}{% endif %}"
                       placeholder="{{ placeholder }}"
                       autocorrect="off"
                       autocapitalize="off"
                       autocomplete="off"
                       spellcheck="false"
                       class="w-full focus:border-black block {{ placeholder_class }} bg-transparent border border-color-border border-r-0 px-4 py-2 rounded-tl rounded-bl newsletter__input-st"
                >
                <button type="submit" name="commit" class="not-move newsletter-button sf__btn sf__btn-primary">
                    <span>{{ button_label | default: 'Subscribe' }}</span>
                </button>
            </div>
        {% else %}
            <div class="flex items-center justify-center md:flex-row flex-col">
                {%- capture placeholder_class -%}placeholder-gray-500 placeholder-opacity-75{%- endcapture -%}
                <input type="email"
                       name="contact[email]"
                       id="{{ formId }}-email"
                       value="{% if customer.email != blank %}{{ customer.email }}{% endif %}"
                       placeholder="{{ placeholder }}"
                       autocorrect="off"
                       autocapitalize="off"
                       autocomplete="off"
                       spellcheck="false"
                       class="w-full block focus:border-black {{ placeholder_class }} px-0 bg-transparent border-b-2 border-black px-4 py-2 newsletter__input-st"
                >
                <button type="submit" name="commit" class="newsletter-button md:ml-2.5 md:mt-0 mt-6 ml-0 flex flex-none items-center bg-black text-white justify-center md:w-12 md:h-12 w-10 h-10 rounded-full">
                    <svg fill="currentColor" width="14px" height="14px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M218.101 38.101L198.302 57.9c-4.686 4.686-4.686 12.284 0 16.971L353.432 230H12c-6.627 0-12 5.373-12 12v28c0 6.627 5.373 12 12 12h341.432l-155.13 155.13c-4.686 4.686-4.686 12.284 0 16.971l19.799 19.799c4.686 4.686 12.284 4.686 16.971 0l209.414-209.414c4.686-4.686 4.686-12.284 0-16.971L235.071 38.101c-4.686-4.687-12.284-4.687-16.97 0z"/></svg>
                </button>
            </div>
        {% endif %}
    {% endform %}
</div>
