{% comment %}

WARNING

This file is auto-generated by the Verdn app. 

Please do not edit this file as it can be updated at any time. 

See the Verdn app, or contact Verdn support (support@verdn.com) for help.

{% endcomment %}

{% if content_for_header contains "library.verdn.com" %}
  {% assign impact_type = product.metafields.verdn.badge.type %}
  {% assign impact_amount_raw = product.metafields.verdn.badge.amount %}

  {% if impact_type and impact_amount_raw %}
    {% assign impact_meta = shop.metafields.verdn.impact[impact_type] %}

    {% assign impact_amount = impact_amount_raw | times: impact_meta.unit.multiplier | round: 1 %}
    {% assign split_amount = impact_amount | split: '.' %}
    {% if split_amount.last == '0' %}
      {% assign rounded_amount = impact_amount | remove: '.0'  %}
    {% else %}
      {% assign rounded_amount = impact_amount %}
    {% endif %}

    {% if rounded_amount == 1 %}
      {% assign is_singular = true %}
    {% else %}
      {% assign is_singular = false %}
    {% endif %}

    {% assign lang_code = request.locale.iso_code %}
    {% assign translations = shop.metafields.verdn.translations %}
    {% if lang_code and translations[lang_code].badge %}
      {% assign translated_meta = translations[lang_code].badge[impact_type] %}
      {% assign statement_parts = translated_meta.statement %}
      {% assign detail_parts = translated_meta.detail %}
      {% assign unit_parts = translated_meta.unit %}
    {% else %}
      {% assign statement_parts = impact_meta.statement %}
      {% assign detail_parts = impact_meta.detail %}
      {% assign unit_parts = impact_meta.unit %}
    {% endif %}

    {% capture impact_part %}
      <b>
        {%- if unit_parts.prefix -%}
          {{- unit_parts.prefix -}}
        {%- endif -%}
        {{rounded_amount}}
        {% if is_singular %}
          {{unit_parts.singular}}
        {% else %}
          {{unit_parts.plural}}
        {% endif %}
      </b>
    {% endcapture %}

    <div class="verdn-badge-2_outer verdn-badge-2_type_detailed" id="x-verdn-badge-v2-x" data-impact-type="{{impact_type}}" style="display: flex; justify-content: flex-start; margin-bottom: calc(0.4rem - calc(-17.04px - 0px)); margin-left: 0; margin-right: 0; margin-top: 0; width: 100%;">
      <div class="verdn-badge-2_container" style="align-items: center; background: #E8FAFA; border-color: #95D5D5; border-radius: 7px; border-style: solid; border-width: 0; cursor: pointer; display: flex; max-width: 350px; min-width: 200px; padding: 9.5px; position: relative; user-select: none;">
        <img class="verdn-badge-2_icon" src="https://assets.verdn.com/athena/icons/{{ impact_meta.icon }}-black.png?w=96" style="align-self: flex-start; background: white; border-radius: 20rem; height: 40.3px; width: 40.3px;">
        <div class="verdn-badge-2_text" style="color: #000000; display: flex; flex: 1; flex-direction: column; margin-left: 9.5px; margin-right: 6.3px; text-align: left;">
          <span class="verdn-badge-2_title" id="verdn-badge-2_title" style="font-size: 12.6px; font-weight: 600; line-height: 17.6px; margin-bottom: 3.2px;">
            {% if statement_parts.prefix %}
              {{statement_parts.prefix}}
            {% endif %}
            <b style="font-weight: 800;">{{impact_part}}</b>
            {% if statement_parts.suffix %}
              {{statement_parts.suffix}}
            {% endif %}
          </span>
          <span class="verdn-badge-2_body" style="font-size: 11.3px; font-weight: 400; line-height: 15.9px;">
            {{detail_parts.prefix}}
            {% if detail_parts.bold %}
              {{detail_parts.bold}}
            {% endif %}
            {{detail_parts.suffix}}
          </span>
        </div>
        <div class="verdn-badge-2_info" style="align-items: flex-end; display: flex; fill: #000000; height: 100%; justify-content: flex-end; opacity: 0.4; transition: opacity 0.2s; width: 1em;">
          <svg height="14" preserveaspectratio="xMidYMid meet" viewbox="0 0 24 24" width="14">
            <path d="M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
          </svg>
        </div>
        <img class="verdn-badge-2_powered-by" src="https://assets.verdn.com/athena/adornments/powered-by-001.png?w=300" style="bottom: calc(-17.04px - 0px); height: 12px; position: absolute; right: 0.6rem;">
      </div>
    </div>
  {% endif %}
{% endif %}